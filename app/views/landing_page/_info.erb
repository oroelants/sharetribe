<% bg_styles = background_style_modifiers(s, second_wo_background) %>
<% content_for :info_css do %>
  <%= render 'landing_page/inline_css', s: s, section_id: section_id %>
<% end %>

<section id="<%= section_id %>" class="info__section--<%= bg_styles[:section_style_modifier] %>" style="<%= bg_styles[:background_image_style] %> <%= bg_styles[:background_color_style] %>">
  <div class="info__content--<%= bg_styles[:variation_modifier] %>">
    <h1 class="info__title--<%= bg_styles[:variation_modifier] %>"><%= s["title"][landing_page_locale] %></h1>
    <% case s["variation"] %>
    <% when "single_column" %>

      <div class="info__paragraph--markdown">
        <%= render_markdown_array(s["paragraph"][landing_page_locale]) %>
      </div>

      <% if s.try(:[], "button_title").try(:[], landing_page_locale) %>
        <a class="info__button<%= bg_styles[:button_modifier] %> <%= section_id %>__info__button<%= bg_styles[:button_modifier] %>" href="<%= s["button_path"]["value"][landing_page_locale] %>"><%= s["button_title"][landing_page_locale] %></a>
      <% end %>

    <% when "multi_column" %>

      <%
        multi_column_modifiers = {
          2 => "two-columns",
          3 => "three-columns"
        }

        multi_column_modifier = multi_column_modifiers[s["columns"].length]
      %>

      <div class="info__columns">
        <% s["columns"].each do |c| %>
          <div class="info__column--<%= multi_column_modifier %>">
            <div class="info__column-text-content">
              <% if c["icon"] %>
                <div class="info__column-icon <%= section_id %>__info__column-icon">
                  <% if CUSTOM_ICONS.include?(c["icon"]) %>
                    <%= render template: "custom_icons/#{c["icon"]}" %>
                  <% else %>
                    <%= render partial: "icon", locals: { icon: c["icon"] } %>
                  <% end %>
                </div>
              <% end %>
              <h2 class="info__column-title"><%= c["title"][landing_page_locale] %></h2>

              <div class="info__column-paragraph--markdown">
                <%= render_markdown_array(c["paragraph"][landing_page_locale]) %>
              </div>
            </div>

            <% if c.try(:[], "button_title").try(:[], landing_page_locale) || c.try(:[], "button_path_string").try(:[], landing_page_locale) %>
              <a class="info__button<%= bg_styles[:button_modifier] %> <%= section_id %>__info__button<%= bg_styles[:button_modifier] %>" href="<%= c['button_path_string'][landing_page_locale] %>"><%= c["button_title"][landing_page_locale]%></a>
            <% end %>
          </div>
        <% end %>
      </div>

      <% if s.try(:[], "button_title").try(:[], landing_page_locale) %>
        <div class="info__button-container">
          <a class="info__button<%= bg_styles[:button_modifier] %> <%= section_id %>__info__button<%= bg_styles[:button_modifier] %>" href="<%= s['button_path']['value'][landing_page_locale] %>"><%= s["button_title"][landing_page_locale]%></a>
        </div>
      <% end %>
    <% end %>
  </div>
</section>
